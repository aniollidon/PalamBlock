<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>PalamBlock Admin - OS control</title>
        <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
            integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" rel="stylesheet">
        <link href="../css/style.css" rel="stylesheet">
        <link href="../css/grid.css" rel="stylesheet">
        <link rel="icon" href="../img/pbicon.ico" type="image/x-icon">
    </head>
    <body>
        <main>
            <!-- Sidebar Cast -->
            <div id="castSidebarContainer" style="display:none;">
              <div class="d-flex flex-column align-items-stretch flex-shrink-0 bg-white sidebar" id="castSidebar"
                  style="display:none !important;">
                  <div class="link-dark text-decoration-none border-bottom pt-3 sidebarContent">
                      <div class="d-flex flex-shrink-0 px-3 justify-content-between align-items-center">
                          <span class="fs-5 fw-semibold" id="castSidebarTitle">Emet a</span>
                          <button aria-label="Close" class="btn-close ms-auto cast-close" type="button" id="castSidebarClose"></button>
                      </div>
                      <div class="mb-3" id="castPreviewContainer" style="display:none;">
                          <div class="d-flex justify-content-between align-items-center mb-1">
                              <label class="form-label mb-0">Previsualització</label>
                          </div>
                          <video id="castPreview" style="width:100%;border:1px solid #ccc;display:none;" autoplay muted playsinline></video>
                          <iframe id="castPreviewIframe" style="width:100%;height:200px;border:1px solid #ccc;display:none;" frameborder="0"></iframe>
                          <button class="btn btn-danger btn-sm cast-stop-button" id="castStopButton" type="button">Atura l'emissió</button>
                      </div>
                      <ul class="profile-header-tab nav nav-tabs" id="castTabNav" role="tablist">
                              <li class="nav-item" role="presentation">
                                  <button class="nav-link active" id="castScreenTab" data-bs-toggle="tab" data-bs-target="#castScreenTabPane" type="button" role="tab" aria-controls="castScreenTabPane" aria-selected="true">
                                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-up" viewBox="0 0 16 16">
                                      <path fill-rule="evenodd" d="M3.5 10a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 0 0 1h2A1.5 1.5 0 0 0 14 9.5v-8A1.5 1.5 0 0 0 12.5 0h-9A1.5 1.5 0 0 0 2 1.5v8A1.5 1.5 0 0 0 3.5 11h2a.5.5 0 0 0 0-1z"/>
                                      <path fill-rule="evenodd" d="M7.646 4.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V14.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708z"/>
                                    </svg>
                                  </button>
                              </li>
                              <li class="nav-item" role="presentation">
                                  <button class="nav-link" id="castUrlTab" data-bs-toggle="tab" data-bs-target="#castUrlTabPane" type="button" role="tab" aria-controls="castUrlTabPane" aria-selected="false">
                                     <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
                                        <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
                                        <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
                                      </svg>
                                  </button>
                              </li>
                                <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="castMessageTab" data-bs-toggle="tab" data-bs-target="#castMessageTabPane" type="button" role="tab" aria-controls="castMessageTabPane" aria-selected="false" title="Emet un missatge temporal">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-left-text" viewBox="0 0 16 16">
                                        <path d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
                                        <path d="M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5M3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6m0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"/>
                                        </svg>
                                        </button>
                                </li>
                          </ul>
                          <div class="tab-content" id="castTabContent">
                              <div class="tab-pane fade show active" id="castScreenTabPane" role="tabpanel" aria-labelledby="castScreenTab">
                                  <div class="mb-3">
                                      <div class="d-flex gap-2 align-items-center">
                                          <button class="btn btn-primary" id="castShareScreenButton">Emet la teva pantalla</button>
                                          <div class="dropdown">
                                              <button class="btn btn-secondary dropdown-toggle" type="button" id="castStudentScreenDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                                  Emet alumne
                                              </button>
                                              <ul class="dropdown-menu" id="castStudentScreenMenu" aria-labelledby="castStudentScreenDropdown">
                                                  <li><h6 class="dropdown-header">Emet pantalla d'alumne</h6></li>
                                                  <li><hr class="dropdown-divider"></li>
                                                  <li><span class="dropdown-item-text text-muted">Selecciona un grup primer</span></li>
                                              </ul>
                                          </div>
                                      </div>
                                  </div>
                                
                              </div>
                              <div class="tab-pane fade" id="castUrlTabPane" role="tabpanel" aria-labelledby="castUrlTab">
                                  <div class="mb-3">
                                      <label for="castUrlInput" class="form-label">URL a compartir</label>
                                      <input type="text" class="form-control" id="castUrlInput" placeholder="https://...">
                                      <div class="form-check mt-2">
                                          <input class="form-check-input" type="checkbox" value="" id="castUrlInteractiu">
                                          <label class="form-check-label" for="castUrlInteractiu">Permet interacció</label>
                                      </div>
                                      <button class="btn btn-primary mt-2" id="castShareUrlButton">Emet l'enllaç</button>
                                  </div>
                              </div>
                                                            <div class="tab-pane fade" id="castMessageTabPane" role="tabpanel" aria-labelledby="castMessageTab">
                                                                    <div class="mb-3">
                                                                         <label for="castMessageText" class="form-label">Missatge</label>
                                                                         <textarea class="form-control" id="castMessageText" rows="3" placeholder="Text del missatge"></textarea>
                                                                         <div class="row mt-2 g-2">
                                                                             <div class="col-6">
                                                                                 <label for="castMessageTime" class="form-label mb-1">Temps (segons, 0 = infinit)</label>
                                                                                 <input type="number" min="0" class="form-control" id="castMessageTime" value="10" />
                                                                             </div>
                                                                             <!-- Eliminat checkbox de tancar en fer clic -->
                                                                         </div>
                                                                         <button class="btn btn-primary mt-3" id="castShareMessageButton">Emet el missatge</button>
                                                                    </div>
                                                             </div>
                          </div>
                  </div>
              </div>
            </div>

            <!-- Main content -->
            <div class="main-content">
                <!-- Capçalera amb selector de grup -->
                <div class="grup-opcions p-3 link-dark text-decoration-none border-bottom">
                    <!-- Grup selector -->
                    <select aria-label="Default select example" class="form-select" id="grupSelector">
                        <option selected>Selecciona un grup</option>
                    </select>
                    <div class="grup-buttons">
                        <button class="btn btn-primary" type="button" id="globalGroupCastButton" disabled title="Obre la barra lateral per emetre al grup">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-up" viewBox="0 0 16 16">
                              <path fill-rule="evenodd" d="M3.5 10a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 0 0 1h2A1.5 1.5 0 0 0 14 9.5v-8A1.5 1.5 0 0 0 12.5 0h-9A1.5 1.5 0 0 0 2 1.5v8A1.5 1.5 0 0 0 3.5 11h2a.5.5 0 0 0 0-1z"/>
                              <path fill-rule="evenodd" d="M7.646 4.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V14.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708z"/>
                            </svg>
                            Emet al grup
                        </button>
                        <!-- Boto de tancar tots els PCs -->
                        <button class="btn btn-danger" type="button" id="globalGroupPowerOffButton" disabled title="Apaga totes les màquines del grup seleccionat">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-power" viewBox="0 0 16 16">
                                <path d="M7.5 1v7h1V1z"/>
                                <path d="M3 8.812a5 5 0 0 1 2.578-4.375l-.485-.874A6 6 0 1 0 11 3.616l-.501.865A5 5 0 1 1 3 8.812"/>
                            </svg>
                            Apagar tots
                        </button>
                        <!-- Boto tornar a vista de navegadors -->
                        <button class="btn btn-info" type="button" id="globalGroupBrowsersView" onclick="window.location.href = '../browsers';" title="Canvia a la vista de navegadors del grup">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-globe-americas" viewBox="0 0 16 16">
                                <path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0M2.04 4.326c.325 1.329 2.532 2.54 3.717 3.19.48.263.793.434.743.484q-.121.12-.242.234c-.416.396-.787.749-.758 1.266.035.634.618.824 1.214 1.017.577.188 1.168.38 1.286.983.082.417-.075.988-.22 1.52-.215.782-.406 1.48.22 1.48 1.5-.5 3.798-3.186 4-5 .138-1.243-2-2-3.5-2.5-.478-.16-.755.081-.99.284-.172.15-.322.279-.51.216-.445-.148-2.5-2-1.5-2.5.78-.39.952-.171 1.227.182.078.099.163.208.273.318.609.304.662-.132.723-.633.039-.322.081-.671.277-.867.434-.434 1.265-.791 2.028-1.12.712-.306 1.365-.587 1.579-.88A7 7 0 1 1 2.04 4.327Z"/>
                            </svg>
                            Navegadors
                        </button>
                    </div>
                </div>
                <!-- Contingut de la vista en quadricula on hi ha el nom de l'alumne i la seva pantalla-->
                <div class="grid-container" id="grid-container">
                </div>
            </div>
            <!-- Scripts -->
            <!-- Boostrap JS -->
            <script crossorigin="anonymous"
                integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
                src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
            <script
                src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            <script src="../ext/bootbox.all.min.js"></script>
            <!-- Socket.io -->
            <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
            <!-- Grid JS -->
            <script type="module" src="../js/screens_view.js"></script>
            </script>
            <script src="../js/cast_sidebar.js"></script>
        </main>
    </body>
</html>